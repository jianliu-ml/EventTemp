from preprocess import generate_examples
from dataset import DatasetGraphImputation, DatasetGraphTest
from transformers import BertTokenizer

import config

tokenizer = BertTokenizer.from_pretrained(config.bert_dir, do_lower_case=False)

train_examples, dev_examples, test_examples, n_train_relation, n_dev_relation, n_test_relation = generate_examples()

test_examples = test_examples[5:6]

# print(test_examples[0][3])


tokens, events = test_examples[0][3], test_examples[0][2]
event_map = {}
for event in events:
    e_id, [s, e] = event
    event_map[e_id] = [len(event_map), s, e] # e_num, e_s, e_e

print(len(event_map))

# print('Here')
# print(events)


test_examples_events = test_examples[0][-2]
result = [[0, 4], [637, 4], [729, 4], [728, 4], [731, 4], [720, 4], [724, 4], [723, 4], [730, 4], [722, 4], [732, 4], [725, 4], [733, 4], [717, 4], [734, 4], [721, 4], [735, 4], [726, 4], [736, 4], [718, 4], [727, 4], [737, 4], [738, 4], [708, 2], [739, 4], [740, 4], [741, 4], [719, 4], [743, 4], [742, 4], [715, 4], [744, 4], [745, 4], [701, 4], [712, 5], [746, 4], [714, 4], [747, 5], [716, 4], [749, 2], [750, 5], [751, 5], [705, 2], [752, 2], [753, 5], [700, 1], [710, 4], [755, 2], [713, 1], [702, 4], [684, 2], [707, 4], [709, 2], [756, 5], [706, 5], [676, 4], [681, 5], [682, 5], [711, 2], [677, 4], [679, 3], [685, 5], [672, 4], [757, 1], [675, 4], [680, 1], [704, 2], [758, 5], [686, 5], [688, 5], [678, 4], [667, 4], [690, 2], [671, 4], [760, 5], [687, 2], [691, 5], [693, 5], [689, 2], [754, 2], [673, 4], [692, 1], [703, 4], [695, 5], [759, 1], [674, 4], [761, 2], [696, 2], [699, 4], [763, 4], [764, 4], [697, 5], [670, 4], [797, 4], [803, 4], [792, 2], [762, 5], [804, 2], [765, 1], [766, 4], [805, 2], [748, 2], [694, 1], [806, 4], [800, 2], [813, 1], [801, 2], [815, 1], [668, 4], [767, 4], [768, 4], [771, 5], [798, 4], [802, 5], [770, 2], [818, 1], [820, 1], [824, 1], [666, 3], [795, 4], [769, 2], [808, 5], [799, 4], [827, 4], [809, 1], [772, 4], [826, 1], [812, 3], [773, 2], [807, 2], [836, 4], [839, 1], [819, 3], [840, 3], [828, 4], [841, 3], [775, 4], [842, 3], [777, 5], [816, 2], [825, 4], [843, 3], [844, 3], [845, 3], [669, 4], [821, 3], [774, 2], [796, 1], [830, 2], [780, 2], [776, 2], [846, 3], [778, 1], [847, 3], [837, 1], [833, 3], [848, 3], [663, 4], [822, 2], [849, 3], [662, 4], [829, 3], [850, 3], [851, 3], [852, 3], [811, 3], [779, 2], [683, 2], [832, 3], [698, 4], [664, 4], [855, 3], [810, 2], [853, 3], [793, 5], [857, 4], [791, 5], [856, 4], [861, 3], [869, 5], [781, 5], [868, 3], [860, 3], [823, 3], [858, 3], [854, 4], [862, 3], [865, 4], [794, 4], [871, 5], [867, 3], [782, 5], [783, 2], [784, 5], [863, 3], [789, 5], [788, 1], [874, 5], [641, 4], [785, 2], [859, 3], [786, 2], [873, 2], [787, 5], [554, 4], [558, 4], [875, 1], [552, 4], [814, 3], [555, 4], [866, 3], [551, 4], [817, 3], [556, 4], [835, 3], [870, 2], [876, 5], [864, 3], [565, 4], [665, 4], [557, 4], [553, 4], [563, 4], [568, 4], [569, 4], [877, 1], [559, 4], [560, 4], [561, 4], [878, 5], [550, 4], [562, 4], [545, 4], [549, 4], [564, 4], [566, 4], [567, 4], [879, 2], [882, 4], [570, 4], [642, 4], [571, 4], [572, 1], [883, 1], [574, 5], [575, 1], [880, 5], [573, 2], [576, 5], [884, 4], [579, 2], [577, 5], [548, 4], [580, 5], [581, 5], [583, 5], [885, 4], [582, 2], [585, 2], [586, 5], [872, 2], [831, 3], [886, 4], [790, 1], [578, 2], [588, 5], [587, 1], [590, 5], [591, 2], [592, 5], [515, 5], [522, 4], [594, 4], [584, 2], [547, 4], [595, 1], [589, 1], [516, 2], [517, 5], [546, 4], [544, 4], [596, 4], [597, 4], [598, 4], [599, 2], [524, 2], [660, 3], [521, 4], [526, 5], [661, 4], [527, 4], [523, 4], [600, 2], [510, 2], [528, 2], [530, 4], [525, 2], [534, 4], [532, 5], [529, 2], [512, 1], [533, 1], [601, 5], [838, 3], [602, 4], [508, 5], [519, 4], [520, 1], [536, 4], [535, 4], [511, 5], [537, 4], [538, 4], [539, 4], [531, 2], [507, 2], [603, 2], [887, 2], [540, 4], [541, 4], [593, 4], [542, 4], [514, 1], [543, 4], [639, 4], [505, 5], [636, 4], [607, 5], [513, 5], [881, 4], [634, 4], [608, 1], [657, 4], [623, 4], [605, 4], [609, 4], [635, 4], [834, 2], [611, 4], [630, 4], [628, 4], [632, 4], [644, 4], [506, 5], [631, 4], [638, 4], [643, 4], [640, 4], [649, 4], [652, 4], [889, 5], [888, 2], [610, 4], [645, 3], [651, 4], [654, 4], [659, 4], [655, 4], [1273, 1], [633, 4], [612, 4], [495, 1], [606, 2], [613, 4], [614, 4], [615, 4], [616, 4], [629, 4], [617, 4], [890, 4], [647, 3], [618, 4], [650, 3], [619, 4], [656, 3], [627, 4], [620, 4], [646, 3], [648, 3], [891, 2], [604, 2], [621, 4], [622, 4], [624, 4], [501, 5], [625, 4], [626, 4], [1118, 4], [1103, 4], [1121, 1], [1114, 5], [1111, 4], [1117, 2], [1125, 1], [1115, 4], [1126, 4], [1122, 3], [1113, 2], [1128, 3], [1107, 4], [1109, 4], [653, 3], [1104, 2], [1105, 5], [1123, 3], [1112, 2], [1127, 4], [1130, 3], [1102, 4], [1131, 3], [1132, 3], [1116, 2], [1140, 4], [1124, 4], [1108, 1], [1129, 3], [1110, 4], [1137, 3], [1120, 5], [502, 5], [1119, 2], [1141, 1], [1142, 4], [1143, 4], [1144, 4], [658, 3], [1133, 3], [1101, 4], [1148, 4], [1151, 4], [1153, 4], [1145, 2], [1106, 4], [1136, 3], [1134, 3], [1155, 4], [1149, 2], [1138, 3], [1154, 1], [1156, 1], [1139, 4], [1157, 4], [1158, 4], [1147, 5], [1159, 4], [1070, 4], [1100, 4], [1072, 4], [1099, 4], [1150, 4], [1163, 4], [1161, 4], [1160, 4], [1165, 4], [1166, 4], [1168, 4], [1169, 1], [1067, 2], [1068, 5], [1170, 1], [1162, 1], [893, 4], [1071, 1], [1135, 3], [1167, 1], [1173, 1], [1081, 4], [1174, 1], [1079, 2], [1164, 4], [1073, 4], [1098, 4], [1075, 2], [1172, 4], [1171, 4], [1062, 4], [1076, 2], [1175, 1], [1176, 1], [1061, 4], [1063, 4], [1077, 5], [1177, 1], [1074, 4], [1078, 5], [895, 4], [1084, 1], [1085, 4], [1086, 4], [1088, 4], [509, 2], [1178, 1], [1089, 4], [1080, 2], [1096, 4], [1091, 4], [1064, 4], [1146, 2], [1066, 5], [1087, 4], [1092, 4], [1065, 1], [1069, 4], [1093, 4], [1083, 5], [1094, 4], [1095, 4], [496, 5], [1090, 4], [1097, 4], [1212, 1], [1213, 1], [1206, 1], [896, 1], [1214, 1], [1215, 1], [1211, 1], [1209, 1], [1060, 4], [1179, 1], [1210, 1], [1216, 1], [1217, 1], [1218, 1], [1181, 1], [1219, 1], [1183, 1], [499, 5], [1059, 4], [1082, 2], [1222, 5], [1180, 1], [1224, 2], [1225, 1], [1229, 1], [1182, 1], [1231, 3], [1227, 1], [892, 4], [1208, 1], [497, 1], [1226, 4], [1207, 1], [504, 2], [1220, 2], [1221, 2], [500, 1], [1230, 3], [1232, 3], [1237, 3], [1239, 3], [1152, 2], [1184, 4], [1233, 3], [1223, 4], [1235, 4], [1245, 3], [1250, 4], [1247, 4], [1243, 4], [1244, 1], [1246, 1], [1236, 1], [1185, 4], [1251, 2], [1248, 2], [1253, 1], [1228, 5], [1240, 3], [1238, 1], [1255, 1], [1186, 4], [894, 2], [1187, 4], [1242, 3], [1256, 4], [900, 2], [1257, 1], [898, 5], [494, 1], [1234, 4], [1254, 2], [1259, 1], [1260, 4], [1263, 3], [1265, 4], [1266, 1], [1267, 4], [1268, 1], [1269, 1], [1271, 1], [1261, 4], [1272, 4], [1188, 4], [1249, 4], [1264, 1], [1189, 4], [1270, 1], [1252, 5], [1190, 4], [1191, 4], [1192, 4], [1193, 4], [1204, 1], [1195, 4], [1198, 1], [1194, 4], [1200, 1], [1199, 1], [1202, 1], [1262, 1], [518, 4], [1201, 1], [1196, 4], [1203, 1], [943, 4], [503, 2], [901, 5], [1197, 4], [932, 4], [911, 4], [1205, 1], [931, 4], [934, 4], [912, 4], [941, 4], [935, 4], [906, 2], [945, 4], [937, 4], [938, 4], [920, 4], [939, 4], [916, 5], [1241, 1], [492, 1], [923, 1], [940, 4], [921, 1], [944, 4], [946, 4], [948, 4], [917, 5], [910, 1], [947, 4], [1258, 5], [933, 4], [481, 1], [951, 2], [918, 2], [926, 2], [953, 1], [952, 5], [954, 5], [957, 2], [960, 4], [955, 1], [956, 5], [942, 4], [922, 5], [961, 1], [902, 1], [962, 4], [963, 4], [964, 4], [967, 5], [478, 1], [971, 4], [929, 4], [968, 4], [965, 2], [475, 1], [490, 1], [972, 1], [903, 5], [949, 3], [974, 1], [983, 4], [981, 4], [973, 5], [966, 2], [984, 4], [904, 1], [927, 4], [958, 5], [970, 4], [986, 4], [925, 4], [959, 4], [905, 5], [907, 5], [913, 4], [985, 1], [982, 3], [976, 3], [975, 2], [924, 4], [909, 4], [897, 1], [489, 1], [1043, 1], [978, 3], [987, 4], [1034, 2], [988, 4], [1029, 4], [980, 4], [908, 1], [914, 2], [1031, 4], [915, 2], [1048, 4], [990, 4], [928, 3], [989, 4], [950, 2], [992, 4], [1025, 5], [930, 3], [1046, 4], [1032, 4], [1033, 4], [1041, 1], [994, 4], [995, 4], [993, 4], [969, 2], [1036, 5], [1058, 4], [1044, 4], [899, 2], [1040, 4], [1047, 4], [998, 1], [919, 4], [996, 4], [1049, 4], [999, 3], [1000, 3], [1050, 4], [1045, 4], [1042, 5], [979, 3], [1052, 4], [1051, 4], [1053, 4], [1054, 4], [491, 4], [1055, 4], [1056, 4], [1037, 4], [997, 4], [1057, 4], [1001, 3], [1002, 3], [1003, 3], [1030, 1], [1004, 3], [1005, 3], [1026, 2], [1008, 3], [1018, 4], [1007, 4], [1009, 4], [483, 4], [1010, 4], [936, 3], [1011, 3], [1014, 3], [1012, 3], [991, 3], [1013, 4], [1022, 1], [1023, 5], [482, 4], [1027, 5], [1016, 3], [1274, 1], [479, 1], [1035, 2], [498, 2], [1038, 2], [1039, 4], [1024, 1], [244, 3], [220, 1], [977, 3], [1020, 3], [1028, 4], [321, 4], [339, 4], [1006, 4], [294, 4], [329, 4], [306, 4], [209, 4], [229, 4], [1019, 3], [322, 4], [363, 4], [1015, 3], [317, 4], [336, 4], [316, 4], [1021, 3], [215, 1], [308, 4], [318, 4], [242, 1], [206, 1], [199, 4], [125, 1], [61, 1], [232, 3], [236, 4], [225, 4], [243, 3], [1017, 4], [201, 1], [228, 4], [248, 1], [203, 1], [247, 3], [250, 3], [238, 4], [240, 1], [226, 1], [227, 4], [241, 1], [324, 4], [233, 4], [351, 4], [312, 4], [379, 4], [58, 1], [239, 1], [345, 4], [234, 4], [184, 1], [235, 4], [80, 1], [210, 2], [216, 2], [93, 1], [237, 1], [245, 3], [246, 1], [113, 1], [257, 3], [191, 1], [258, 1], [314, 4], [298, 4], [251, 1], [131, 4], [213, 1], [54, 1], [349, 4], [454, 1], [218, 1], [355, 4], [252, 3], [249, 1], [230, 4], [57, 1], [264, 3], [222, 4], [319, 4], [315, 1], [196, 1], [253, 3], [63, 1], [313, 4], [337, 4], [255, 2], [359, 4], [346, 4], [259, 3], [224, 4], [208, 3], [493, 5], [221, 3], [436, 5], [261, 2], [231, 4], [455, 1], [254, 3], [108, 1], [256, 3], [111, 1], [297, 4], [262, 3], [470, 1], [468, 1], [263, 1], [260, 1], [212, 3], [265, 1], [485, 1], [62, 1], [458, 1], [266, 3], [277, 3], [320, 4], [169, 1], [480, 4], [126, 4], [332, 4], [486, 1], [47, 1], [354, 4], [151, 1], [268, 3], [174, 1], [204, 1], [219, 3], [328, 1], [211, 3], [207, 3], [269, 3], [104, 1], [121, 4], [271, 1], [270, 4], [333, 4], [488, 1], [330, 4], [272, 4], [296, 4], [106, 4], [301, 4], [56, 1], [303, 4], [273, 4], [325, 4], [180, 1], [112, 4], [120, 1], [223, 3], [182, 4], [202, 3], [158, 1], [456, 1], [171, 3], [160, 1], [168, 3], [420, 5], [275, 1], [300, 4], [190, 4], [91, 1], [98, 1], [181, 4], [371, 1], [274, 3], [188, 1], [59, 1], [326, 1], [471, 2], [343, 4], [130, 4], [291, 4], [334, 4], [449, 1], [341, 4], [55, 1], [119, 4], [89, 1], [344, 4], [382, 4], [279, 1], [461, 1], [105, 4], [103, 1], [185, 1], [310, 4], [473, 1], [193, 1], [195, 1], [323, 1], [172, 1], [167, 1], [205, 3], [335, 4], [214, 3], [217, 3], [487, 5], [173, 3], [338, 4], [365, 4], [179, 4], [462, 1], [102, 1], [197, 1], [96, 1], [69, 1], [183, 4], [150, 1], [124, 4], [157, 1], [187, 3], [276, 1], [123, 2], [189, 4], [285, 1], [97, 5], [284, 1], [110, 1], [288, 4], [127, 1], [200, 3], [459, 1], [356, 4], [476, 5], [155, 1], [101, 4], [166, 3], [465, 2], [46, 4], [175, 3], [132, 4], [177, 3], [134, 4], [467, 5], [133, 1], [178, 4], [307, 1], [79, 1], [99, 4], [53, 1], [373, 4], [452, 1], [327, 4], [281, 4], [331, 4], [186, 3], [340, 4], [280, 3], [466, 1], [282, 1], [342, 4], [64, 1], [118, 4], [287, 4], [65, 1], [348, 2], [128, 4], [136, 4], [289, 4], [286, 1], [353, 4], [305, 2], [52, 1], [388, 4], [292, 1], [474, 5], [451, 4], [484, 5], [51, 1], [295, 1], [86, 4], [38, 4], [311, 4], [117, 2], [60, 1], [122, 1], [107, 4], [42, 5], [357, 4], [31, 5], [304, 4], [299, 4], [293, 4], [146, 1], [95, 4], [309, 1], [49, 1], [135, 4], [369, 1], [435, 1], [50, 1], [116, 4], [302, 4], [198, 3], [37, 4], [143, 4], [347, 4], [360, 4], [441, 1], [68, 1], [26, 2], [94, 1], [114, 4], [278, 3], [129, 4], [109, 4], [170, 1], [429, 5], [90, 1], [149, 1], [36, 1], [358, 1], [290, 1], [361, 4], [367, 4], [66, 1], [87, 4], [48, 5], [372, 4], [115, 4], [431, 2], [44, 1], [67, 1], [142, 4], [100, 4], [40, 1], [70, 1], [350, 4], [71, 1], [82, 1], [192, 3], [368, 4], [35, 4], [1, 1], [194, 4], [140, 4], [34, 4], [144, 1], [73, 1], [442, 4], [374, 4], [283, 3], [43, 5], [141, 1], [41, 1], [147, 1], [165, 3], [375, 4], [39, 5], [362, 4], [85, 1], [378, 4], [159, 3], [5, 1], [443, 4], [33, 5], [72, 1], [6, 1], [3, 2], [370, 4], [417, 5], [74, 1], [7, 1], [376, 4], [377, 4], [380, 4], [164, 2], [84, 1], [432, 5], [30, 1], [381, 4], [77, 1], [11, 1], [4, 2], [81, 1], [8, 5], [32, 2], [10, 5], [386, 4], [477, 2], [152, 3], [45, 1], [383, 4], [137, 4], [447, 5], [384, 4], [13, 1], [92, 1], [27, 5], [440, 4], [29, 5], [161, 3], [385, 4], [156, 3], [12, 5], [14, 1], [154, 3], [433, 1], [439, 4], [389, 4], [391, 4], [434, 5], [15, 5], [2, 2], [267, 2], [390, 4], [28, 1], [364, 4], [23, 1], [148, 3], [392, 4], [163, 3], [138, 4], [16, 1], [139, 5], [352, 4], [20, 2], [76, 1], [75, 1], [437, 2], [25, 1], [9, 5], [78, 1], [17, 5], [18, 5], [21, 5], [444, 4], [22, 5], [421, 1], [24, 5], [19, 2], [438, 5], [425, 2], [176, 1], [430, 2], [366, 4], [446, 1], [145, 4], [463, 1], [450, 4], [423, 5], [464, 2], [88, 1], [448, 5], [445, 1], [83, 1], [472, 1], [401, 4], [387, 4], [424, 2], [422, 5], [426, 5], [153, 3], [453, 5], [407, 4], [405, 4], [162, 3], [400, 1], [427, 5], [408, 4], [410, 4], [393, 4], [395, 4], [415, 5], [398, 4], [428, 1], [397, 4], [404, 4], [419, 2], [418, 1], [409, 4], [411, 1], [416, 1], [403, 4], [394, 4], [413, 1], [402, 4], [399, 4], [396, 4], [457, 1], [414, 4], [412, 4], [406, 4], [469, 1], [460, 1]]


txt = '''MOSCOW (AP)_ Presidents Leonid Kuchma of Ukraine and Boris Yeltsin of Russia <EVENT class="OCCURRENCE" eid="e1">signed</EVENT> an economic cooperation plan <TIMEX3 tid="t2297" type="DATE" value="1998-02-27">Friday</TIMEX3>, and Yeltsin <EVENT class="I_ACTION" eid="e2">claimed</EVENT> they <EVENT class="OCCURRENCE" eid="e3">resolved</EVENT> even more nagging problems. Russia and Ukraine share similar cultures and languages, and Ukraine was <EVENT class="OCCURRENCE" eid="e4">ruled</EVENT> from Moscow for <TIMEX3 tid="t154" type="DURATION" value="PXE">centuries</TIMEX3>. But while the two Slavic neighbors see themselves as natural partners, their relations since the <EVENT class="OCCURRENCE" eid="e8">breakup</EVENT> of the Soviet Union have been <EVENT class="OCCURRENCE" eid="e10">bedeviled</EVENT> by a number of <EVENT class="OCCURRENCE" eid="e11">disputes</EVENT> _ Black Sea naval bases, border problems and Ukraine's natural gas debts. ``We have <EVENT class="OCCURRENCE" eid="e12">covered</EVENT> the entire list of questions and <EVENT class="OCCURRENCE" eid="e15">discussed</EVENT> how we will be <EVENT class="OCCURRENCE" eid="e16">tackling</EVENT> them,'' Yeltsin was <EVENT class="REPORTING" eid="e17">quoted</EVENT> as <EVENT class="REPORTING" eid="e18">saying</EVENT> by the ITAR-Tass news agency. ``I must <EVENT class="REPORTING" eid="e20">say</EVENT> there are no unsettled problems any more. We have <EVENT class="OCCURRENCE" eid="e22">solved</EVENT> them all.'' But his sweeping statement contained no details, and gave no indication of how the <EVENT class="OCCURRENCE" eid="e28">disputes</EVENT> could be <EVENT class="OCCURRENCE" eid="e29">resolved</EVENT>. Their solution would <EVENT class="I_STATE" eid="e32">require</EVENT> a <EVENT class="OCCURRENCE" eid="e34">compromise</EVENT> between the two nations' parliaments. A major <EVENT class="OCCURRENCE" eid="e37">dispute</EVENT> concerns a broad political treaty calling for border demarcation, which the two presidents <EVENT class="OCCURRENCE" eid="e41">signed</EVENT> <TIMEX3 tid="t143" type="DATE" value="1997-05">last May</TIMEX3>. In effect, the treaty amounts to Russian recognition of Ukraine's sovereignty and borders, and the Ukrainian parliament has already <EVENT class="OCCURRENCE" eid="e43">ratified</EVENT> it. However, Russia has <EVENT class="I_ACTION" eid="e44">stalled</EVENT> <EVENT class="OCCURRENCE" eid="e45">ratification</EVENT>, <EVENT class="I_ACTION" eid="e46">trying</EVENT> to <EVENT class="OCCURRENCE" eid="e48">tie</EVENT> it to an agreement that would <EVENT class="I_ACTION" eid="e50">permit</EVENT> the Russian navy to <EVENT class="OCCURRENCE" eid="e53">use</EVENT> a naval base on Ukraine's Crimean peninsula for <TIMEX3 mod="EQUAL_OR_MORE" tid="t2300" type="DURATION" value="P20Y">at least 20 more years</TIMEX3>. In their joint statement <EVENT class="OCCURRENCE" eid="e55">issued</EVENT> after the <EVENT class="OCCURRENCE" eid="e56">talks</EVENT>, Yeltsin and Kuchma <EVENT class="I_ACTION" eid="e58">called</EVENT> for the fastest possible <EVENT class="OCCURRENCE" eid="e59">ratification</EVENT> of the treaty, <EVENT class="REPORTING" eid="e61">saying</EVENT> it would <EVENT class="OCCURRENCE" eid="e62">create</EVENT> a ``strong legal foundation'' for bilateral ties and <EVENT class="OCCURRENCE" eid="e64">help</EVENT> stability in Europe. Kuchma <EVENT class="I_ACTION" eid="e65">assured</EVENT> Yeltsin that Ukraine would not <EVENT class="OCCURRENCE" eid="e66">join</EVENT> NATO, Yeltsin's spokesman Sergei Yastrzhembsky <EVENT class="REPORTING" eid="e69">said</EVENT>, <EVENT class="REPORTING" eid="e156">according</EVENT> to the Interfax news agency. The Russian leadership has staunchly <EVENT class="I_ACTION" eid="e71">opposed</EVENT> the western alliance's <EVENT class="OCCURRENCE" eid="e72">expansion</EVENT> into Eastern Europe. In their joint statement, <EVENT class="OCCURRENCE" eid="e74">released</EVENT> by the Kremlin, the two leaders also <EVENT class="I_ACTION" eid="e75">pledged</EVENT> to <EVENT class="OCCURRENCE" eid="e77">consult</EVENT> each other regularly on their approaches to relations with NATO and, in particular, their action within the framework of NATO's Partnership for Peace program. <TIMEX3 tid="t146" type="DATE" value="1997">Last year</TIMEX3>, Russian officials <EVENT class="OCCURRENCE" eid="e82">assailed</EVENT> Ukraine for <EVENT class="OCCURRENCE" eid="e83">holding</EVENT> joint naval <EVENT class="OCCURRENCE" eid="e84">exercises</EVENT> with NATO in the Black Sea _ an area Moscow considers its own turf. Kuchma has <EVENT class="REPORTING" eid="e86">said</EVENT> repeatedly that Ukraine would <EVENT class="STATE" eid="e87">remain</EVENT> neutral for the foreseeable future. Yeltsin and Kuchma also <EVENT class="I_ACTION" eid="e89">called</EVENT> for <EVENT class="OCCURRENCE" eid="e90">developing</EVENT> the stagnant relations between the members of the Commonwealth of Independent States, a loose coalition of former Soviet republics. In <TIMEX3 tid="t149" type="DATE" value="PAST_REF">the past</TIMEX3>, Russia has often <EVENT class="I_ACTION" eid="e92">claimed</EVENT> that Ukraine was <EVENT class="OCCURRENCE" eid="e93">undermining</EVENT> efforts at closer cooperation within the CIS. A major goal of Kuchma's <TIMEX3 tid="t150" type="DURATION" value="P4D">four-day</TIMEX3> state <EVENT class="OCCURRENCE" eid="e98">visit</EVENT> was the <EVENT class="OCCURRENCE" eid="e158">signing</EVENT> of a <TIMEX3 tid="t500" type="DURATION" value="P10Y">10-year</TIMEX3> economic program <EVENT class="I_ACTION" eid="e99">aimed</EVENT> at <EVENT class="OCCURRENCE" eid="e101">doubling</EVENT> the two nations' trade turnover, which <EVENT class="OCCURRENCE" eid="e102">fell</EVENT> to dlrs 14 billion <TIMEX3 tid="t2303" type="DATE" value="1997">last year</TIMEX3>, down dlrs 2.5 billion from <TIMEX3 tid="t152" type="DATE" value="1996">1996</TIMEX3>. The two presidents on <TIMEX3 tid="t151" type="DATE" value="1998-02-27">Friday</TIMEX3> <EVENT class="OCCURRENCE" eid="e105">signed</EVENT> the plan, which <EVENT class="I_ACTION" eid="e106">calls</EVENT> for <EVENT class="OCCURRENCE" eid="e107">cooperation</EVENT> in the metallurgy, fuel, energy, aircraft building, missile, space and chemical industries. A major project is joint <EVENT class="OCCURRENCE" eid="e111">manufacturing</EVENT> of An-70 cargo planes, the Kremlin statement <EVENT class="REPORTING" eid="e112">said</EVENT>. The program also <EVENT class="I_ACTION" eid="e113">calls</EVENT> for <EVENT class="OCCURRENCE" eid="e114">coordination</EVENT> of economic reforms and joint <EVENT class="OCCURRENCE" eid="e116">improvement</EVENT> of social programs in the two countries, where many people have become <EVENT class="OCCURRENCE" eid="e118">impoverished</EVENT> during the chaotic post-Soviet <EVENT class="OCCURRENCE" eid="e119">transition</EVENT> to capitalism. Kuchma also <EVENT class="I_STATE" eid="e121">planned</EVENT> to <EVENT class="OCCURRENCE" eid="e123">visit</EVENT> Russian gas giant Gazprom, most likely to <EVENT class="OCCURRENCE" eid="e125">discuss</EVENT> Ukraine's dlrs 1.2 billion debt to the company. (pvs/vi/ji)'''

for elem in result:
    a = test_examples_events[elem[0]]
    if a[-1] != 0 or True:# and a[-1] == elem[-1]:
        
        e1, e2, gold = a
        predict = elem[-1]

        e1_num, e1_s, e1_e = event_map[e1]
        e2_num, e2_s, e2_e = event_map[e2]

        temp = [e1_num, e1, tokenizer.convert_ids_to_tokens(tokens[e1_s:e1_e+1]), e2_num, e2, tokenizer.convert_ids_to_tokens(tokens[e2_s:e2_e+1]), gold, predict]
        temp = [str(x) for x in temp]

        print('\t'.join(temp))